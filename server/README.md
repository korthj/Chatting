cd client yarn install -> yarn start와 cd clinet -> yarn start로 작동 가능합니다. package.json을 세팅을 해놨어야 하는데, 보내기 직전에 알아서 번거롭게 해드리네요..

현재 구현 된 유스케이스
1.각각의 탭을 켠다음(현재 클라이언트 메모리에 캐싱하는 방식으로 구현되어 새로 접속하면 메시지 리스트가 유지가 되지 않습니다.(유저는 서버 캐싱되어 유지됩니다))

2.원하는 아이디와 아무런 비밀번호를 입력 후 접속

3.사람 탭을 클릭하여 접속 유저 클릭하면 다른 유저와의 채팅룸에 접속이 가능 합니다. 현재는 메시지를 보내지 않아도 바로 연결이 되기 때문에 또 다른 유저의 메시지 탭을 클릭하여 새로이 상태를 갱신하여 주면 채팅리스트에 방이 생성 됩니다.(비동기로 최신화 하는 것을 시간 관계상 못하였습니다.)

4.메시지 입력 후 엔터 혹은 메시지 전송 아이콘 클릭으로 실시간 채팅을 할 수 있습니다.

5.localhost:3000/로 접속하여 또 다른 유저로 접속하여 기존 A-B간의 채팅이 아닌 A-C 유저 간의 채팅이 가능합니다. 다만 기존 메시지는 로그인 페이지 이동시 삭제 됩니다.


*소켓 네이밍 컨벤션 = {
    클라이언트 -> 서버 = 파스칼+스네이크 케이싱
    서버 -> 클라이언트 = 카멜케이싱
};


1.로그인 화면

1.1회원가입
1.1.1클라이언트 로그인 폼에 유저 정보가 비어있을시 로그인 유도 및 유저 정보 유효성 체크
1.1.1.1회원가입 완료시 로그인 완료와 동일하게 처리

1.2로그인
1.2.1로그인시 채팅 리스트로 이동
1.2.2유저 정보 서버로 소켓 전송
1.2.3유저 정보 서버 소켓 저장 밑 리스트 반환

2.채팅 리스트

2.1.1서버 반환 리스트 뿌려주기
2.1.2특정 채팅 클릭시 채팅 룸으로 이동(기존에 존재하는 채팅방 고유 부호 전달) 합니다.

3.채팅방

3.1 채팅 선택
3.1.1 고유 부호(불변성,고유성,비휘발성)로 채팅방 식별 및 서버 전송 합니다.
3.1.2 서버 소켓에서 채팅방 대화내용 콜백

4.유저리스트

4.1 유저 선택시 채팅방 생성(채팅방 고유 부호 전달) 합니다.
4.2 채팅방으로 이동합니다

5.메시지
https://socket.io/docs/v4/server-socket-instance/#socketid
5.1 상대방 userId와 sockerId를 각자의 서버에 캐싱한 후 소켓 조인 키로 사용, DB 구현 시 따로 테이블 생성해서 관리하면, 필요시 클라이언트로 전송합니다.


구현 기능
1.사람 목록
1.1서버에 캐싱된 소켓에 접속 목록에서 반환 해주는 목록입니다.

2.메시지 목록
2.1서버에서 소켓 통신을 통해 넘겨준 메시지 리스트를 State에 저장하여 유지하며 새로고침 혹은 기타 이벤트에 의하여 소실 될 수 있습니다.
데이터베이스를 구축하였다면 유저 테이블, 메시지 테이블 등을 나눠서 관리하거나 카카오톡과 같은 방식으로 디바이스 로컬 스토리지를 활용하여 데이터 베이스 부하를 관리 할 수 있을 듯 합니다.

3.채팅방
3.1처음 대화방 생성시 부여된 소켓 아이디를 기준으로 조인하며 통신하는데, 이를 서버에 캐싱하여 조건문과 반복문을 통하여 관리하여 주는 형태지만 데이터베이스 구축 시 유저와 룸 테이블을 설계하여 관리하면 적절 할 듯 합니다.

미구현 기능
1.회원가입
2.홈
3.마이페이지
4.채용

5.채팅목록
5.1최근 메시지 보여주기 기능은 메시지 목록 중에서 채팅룸 고유 아이디를 통하여 가장 최근 메시지 하나를 가져와 뿌려주는 방식으로 구현하면 되겠습니다. 

5.2채팅 목록 중 안읽은 대화 갯수를 옆에 표시해주는 기능은 단순한 방법으로는 데이터베이스를 활용하여 사용자의 소켓 통신 연결이 끊기거나 채팅방을 퇴장하면 특정한 리액트 이벤트 트리거를 사용하여 데이터베이스의 현재 채팅룸의 상태를 변경하여 상대방이 메시지를 보낼 떄 마다 채팅룸 테이블의 newMessage 컬럼의 숫자를 증가 시켜주는 방식으로 구현 할 수 있습니다.

5.3채팅 목록 비동기 불러오기 기능을 구현하지 못하였습니다. 데이터베이스를 통하여 구축하였다면 비동기 통신과 이벤트 트리거를 사용하여 메시지가 업데이트 될 때 마다 불러와서 뿌려 주는 방식으로 구현 가능 할 것 같습니다.

5.4기존 채팅 메시지 가져오기 기능은 채팅룸 입장시 기존에 대화한 목록을 뿌려주려 클라이언트 전반에 걸쳐 state를 통하여 관리를 하여 주려 개발 도중 중단하게 되어 미완성입니다. 다만 이는 정석적이라면 데이터베이스에 메시지 테이블에 저장하여 채팅룸 입장시 불러오는 방식으로 구현 할 것 같습니다.


6.서버 유저 저장 기능
6.1서버에 데이터베이스 대신 유저를 임시로 캐싱하여 사용하는 로직이 존재하는데, 같은 인물이 대화목록에 중복되어 저장되는 일이 발생하여 한번 손을 봤지만 빈도수가 줄었을 뿐 간혹 발생함. 이는 데이터베이스 이용시 RDBMS 질의문을 통하여 중복, 유효성 체크가 가능하기 떄문에 해결 가능합니다.
